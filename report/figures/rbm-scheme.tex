\documentclass{standalone}

\usepackage{tikz}
\usetikzlibrary{positioning,fit,shapes,calc}
\usetikzlibrary{arrows.meta}
\definecolor{processblue}{cmyk}{1,1,1,0}

\newenvironment{graph}{
  \begin{tikzpicture}
  [
    -latex, auto,
    node distance =0.1\textwidth and 0.1\textwidth,
    on grid, semithick,
    state/.style = {
      circle,
      top color = white,
      bottom color = processblue!10,
      draw,
      processblue,
      text=black,
      minimum width = 0.7 cm,
    },
    visible/.style = {
      circle,
      top color = white,
      bottom color = processblue!10,
      draw,
      processblue,
      text=black,
      minimum width = 0.8cm,
    },
    hidden/.style = {
      circle,
      top color = white,
      bottom color = processblue!70,
      draw,
      processblue,
      text=black,
      minimum width = 0.8cm,
    },
    layer/.style = {
      rectangle,
      rounded corners,
      draw=processblue!80,
      align=center,
      % thick,
      fill = processblue,
      fill opacity =0.1,
      text=black,
    },
    >=Stealth
  ]
}{
  \end{tikzpicture}
}

\begin{document}
  \begin{graph}
    \node[hidden] (X) {$h_1$};
    \node[hidden] (Y) [right=of X] {$h_2$};
    \node[hidden] (Z) [right=of Y] {$h_3$};

    \node[visible] (C) [below=2cm of Y] {$v_3$};
    \node[visible] (B) [left=of C] {$v_2$};
    \node[visible] (D) [right=of C] {$v_4$};
    \node[visible] (A) [left=of B] {$v_1$};
    \node[visible] (E) [right=of D] {$v_5$};

    \path[-,processblue!50] (A) edge node {} (X);
    \path[-,processblue!50] (B) edge node {} (X);
    \path[-,processblue!50] (C) edge node {} (X);
    \path[-,processblue!50] (D) edge node {} (X);
    \path[-,processblue!50] (E) edge node {} (X);

    \path[-,processblue!50] (A) edge node {} (Y);
    \path[-,processblue!50] (B) edge node {} (Y);
    \path[-,processblue!50] (C) edge node {} (Y);
    \path[-,processblue!50] (D) edge node {} (Y);
    \path[-,processblue!50] (E) edge node {} (Y);

    \path[-,processblue!50] (A) edge node {} (Z);
    \path[-,processblue!50] (B) edge node {} (Z);
    \path[-,processblue!50] (C) edge node {} (Z);
    \path[-,processblue!50] (D) edge node {} (Z);
    \path[-,processblue!50] (Z) edge node {} (E);

    \node[layer,fit=(A) (E),label={[label distance=0cm]0:$b$}] (L1) {};
    \node[layer,fit=(X) (Z),label={[label distance=0cm]0:$c$}] (L2) {};
    \draw[layer] (-1.2,-1.2) rectangle (3.8,-0.8);
    \node (W) at (4.1,-1) {$W$};
  \end{graph}
\end{document}